<!DOCTYPE html>
<html lang="ko" xmlns:th="http://thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
	<title>The page is a view page</title>
<link rel="stylesheet" href="/plugin/jquery.mCustomScrollbar.min.css" />
<link rel="stylesheet" href="/css/index.css" />
<link rel="stylesheet" href="/css/reset.css" />

</head>
  <body>
    <header class="header">
      <h1>
        <a href="/library/index.do">BAEKSANGHEUN</a>
      </h1>
    </header>
    <div class="view-container">
      <form class="view-header" th:object="${library}">
        <div class="view-detail">
          <div class="view-title">
            <label for="inp-type-1"></label>
            <div class="col-sm-10">
              <p class="view-title" th:text="*{title}"></p>
            </div>
          </div>
          <div class="view-detail-left">
            <div class="view-detail-info">
              <div class="view-author">
                <label for="inp-type-2"></label>
                <div class="col-sm-10">
                  <p class="form-control" th:text="*{author}"></p>
                </div>
              </div>
              <div class="view-detail-metadata">
                <div class="view-date">
                  <label for="inp-type-5"></label>
                  <div class="col-sm-10">
                    <p class="form-control" th:text="*{#temporals.format(insertTime, 'yyyy-MM-dd')}">•</p>
                  </div>
                </div>
                <div class="view-cnt">
                  <label for="inp-type-5" class="col-sm-2 control-label"></label>
                  <div class="col-sm-10">
                    <p class="form-control" th:text="*{viewCnt}">0</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="buttons">
              <button class="btn btn-go-list"><a th:href="@{/library/list.do}">목록</a></button>
              <button class="btn btn-mod"><a th:href="@{/library/write.do(idx=${library.idx})}">수정</a></button>
              <button class="btn btn-del" type="button" th:onclick="deleteLibrary([[${library.idx}]])">삭제</button>
            </div>
          </div>
        </div>
      </form>
      <form th:object="${library}">
	      <div class="view-content">
	        <label for="inp-type-5"></label>
	        <p class="view-content-context" th:text="*{content}">
	        </p>
	      </div>
	  </form>
      <div class="view-comment">
        <div class="card-content">
          <div class="clearfix">
            <h4 class="box-title pull-left">Comment</h4>
            <!-- /.box-title -->
          </div>
          <form class="input-comment">
            <div class="input-group margin-bottom-20">
              <input type="email" class="form-control" placeholder="" />
              <div class="input-group-btn">
                <button type="button" class="btn waves-effect waves-light">
                  <i class="fa fa-commenting" aria-hidden="true"></i>
                </button>
              </div>
              <!-- /.input-group-btn -->
            </div>
            <ul class="notice-list">
              <li>
                <span class="align-comment">
                  <span class="name">Betty Simmons</span>
                  <span class="time">2019.03.26</span>
                </span>
                <span class="align-comment">
                  <span class="desc">잘 봤습니다</span>
                  <button type="button" class="btn btn-xs btn-circle">❌</button>
                </span>
              </li>
              <li>
                <span class="align-comment">
                  <span class="name">Betty Kim</span>
                  <span class="time">2019.03.15</span>
                </span>
                <span class="align-comment">
                  <span class="desc">There are new settings available</span>
                  <button type="button" class="btn btn-xs btn-circle">❌</button>
                </span>
              </li>
            </ul>
          </form>
        </div>
        <!-- /.card-content -->
      </div>
      <!-- /.box-content -->
    </div>
		
	<script th:src="@{/scripts/jquery.min.js}"></script>
	<script th:src="@{/plugin/bootstrap/js/bootstrap.min.js}"></script>
	<script th:src="@{/plugin/mCustomScrollbar/jquery.mCustomScrollbar.concat.min.js}"></script>
	
	<script th:src="@{/scripts/main.js}"></script>
	<script th:src="@{/scripts/common.js}"></script>
	<script th:inline="javascript">
	// 타임리프에서 자바스크립트는 꼭 CDATA로 묶어줘야함
		/*<![CDATA[*/
		function deleteLibrary(idx){
			if(confirm(idx+"번 게시글을 삭제할까요?")){
				var uri=/*[[@{/library/delete.do}]]*/;
				var html="";
				
				html+='<form name="dataForm" action="'+uri+'" method="post">';
				html+='<input type="hidden" name="idx" value="'+idx+'"/>';
				html+='</form>';
				$("body").append(html);
				document.dataForm.submit();
			}
		}
		/*]]>*/
	</script>
</body>
</html>